# 彈出視窗界面簡化

## 修改日期
2025-06-03

## 簡化目標
根據用戶要求，簡化Chrome擴展的彈出視窗界面，只保留截圖按鈕，移除其他不必要的功能。

## 修改內容

### 1. popup.html 簡化
#### 移除的元素
- ✅ 選項設定區塊（自動偵測表格、儲存格式選項）
- ✅ 結果面板（截圖預覽、資料預覽）
- ✅ 結果操作按鈕（下載全部、複製資料）
- ✅ 底部按鈕（設定、說明）

#### 保留的元素
- ✅ 標題：醫療資料一鍵擷取工具
- ✅ 主要按鈕：截圖並擷取資料
- ✅ 狀態面板：顯示處理進度和結果

### 2. popup.js 簡化
#### 移除的功能
- ✅ 選項設定的載入和儲存
- ✅ 結果面板的顯示和操作
- ✅ 資料表格預覽生成
- ✅ 複製功能
- ✅ 設定和說明頁面開啟
- ✅ Toast 提示訊息

#### 保留的功能
- ✅ 截圖按鈕點擊處理
- ✅ 狀態顯示和進度條
- ✅ 與背景腳本的通訊
- ✅ 成功/錯誤訊息顯示
- ✅ 自動關閉彈出視窗

## 簡化後的界面

### 視覺結構
```
┌─────────────────────────────┐
│    醫療資料一鍵擷取工具      │
├─────────────────────────────┤
│                             │
│   📷 截圖並擷取資料         │
│                             │
├─────────────────────────────┤
│ [狀態面板 - 僅在處理時顯示]  │
│ 處理中...                   │
│ ████████████████████       │
└─────────────────────────────┘
```

### 用戶體驗流程
1. **點擊按鈕** → 開始擷取
2. **顯示進度** → 處理中狀態
3. **完成提示** → 成功/錯誤訊息
4. **自動關閉** → 3秒後關閉（成功時）

## 技術實現

### HTML 結構簡化
```html
<div class="container">
  <header>
    <h1>醫療資料一鍵擷取工具</h1>
  </header>
  
  <main>
    <div class="action-panel">
      <button id="captureBtn" class="primary-btn">
        <span class="icon">📷</span>
        截圖並擷取資料
      </button>
    </div>
    
    <div class="status-panel" id="statusPanel" style="display: none;">
      <div class="status-message" id="statusMessage">處理中...</div>
      <div class="progress-bar">
        <div class="progress" id="progressBar"></div>
      </div>
    </div>
  </main>
</div>
```

### JavaScript 邏輯簡化
```javascript
// 核心功能：截圖按鈕處理
captureBtn.addEventListener('click', function() {
  // 1. 顯示狀態
  statusPanel.style.display = 'block';
  
  // 2. 進度動畫
  // 3. 發送消息到背景腳本
  // 4. 處理回應
  // 5. 顯示結果並自動關閉
});
```

## 優勢效果

### 1. 界面簡潔
- 移除複雜的選項和預覽
- 專注於核心功能
- 減少用戶困惑

### 2. 操作簡化
- 一鍵完成所有操作
- 無需額外設定
- 自動處理和儲存

### 3. 性能提升
- 減少DOM元素
- 簡化JavaScript邏輯
- 更快的載入和響應

### 4. 維護性改善
- 代碼量大幅減少
- 邏輯更清晰
- 錯誤點減少

## 相容性保證

### 核心功能保持
- ✅ 截圖功能完整保留
- ✅ 表格資料擷取正常
- ✅ 個人資料擷取正常
- ✅ 檔案儲存功能正常

### 背景腳本無影響
- ✅ background.js 無需修改
- ✅ content.js 無需修改
- ✅ 所有後端邏輯保持不變

## 結論

✅ **界面簡化完全成功**

1. **用戶體驗**：更簡潔直觀的操作流程
2. **功能完整**：核心功能完全保留
3. **性能提升**：更快的響應和載入
4. **維護性**：代碼更簡潔易維護

**效果**：用戶現在只需點擊一個按鈕即可完成所有操作，大幅簡化了使用流程。

